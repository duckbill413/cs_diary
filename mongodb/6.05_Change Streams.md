# Change Streams (변경 스트림)

- 변경 스트림을 통해 애플리케이션은 사전에 복잡한 방식 및 수동으로 `oplog`을 테일링하는 위험 없이 실시간 데이터 변경에 액세스 할 수 있음
- 애플리케이션은 `Change Stream`를 사용하여 단일 컬렉션, 데이터베이스 또는 전체 배포의 모든 데이터 변경 사항을 구독하고 즉시 대응할 수 있음
- `Change Streams`는 Aggregation framework를 사용하기 때문에 애플리케이션에서 특정 변경 사항을 필터링하거나 알림을 마음대로 변환할 수도 있음
- MongoDB 5.1 부터는 `Change Stream`이 최적화되어 더 효율적인 리소스 사용률과 일부 aggregation pipeline 단계의 더 빠른 실행을 제공
- `replica set`과 `shared cluster` 모두 사용 가능

## 가용성
변경 스트림은 복제본 세트 및 샤드 클러스터에 사용할 수 있습니다:

- 스토리지 엔진
  - 복제본 세트와 샤드 클러스터는 WiredTiger 스토리지 엔진을 사용해야 합니다. Change Stream은 MongoDB의 미사용 데이터 암호화 기능을 사용하는 배포에서도 사용할 수 있습니다.
- 복제본 세트 프로토콜 버전.
  - 복제본 세트와 샤딩된 클러스터는 복제본 세트 프로토콜 버전 1(pv1)을 사용해야 합니다.
- 읽기 고려 '대다수' 활성화
  - 변경 스트림 은 "majority" 읽기 고려 지원에 관계없이 사용할 수 있습니다. 즉, 읽기 고려 majority 지원을 활성화(기본값)하거나 비활성화 하여 변경 스트림을 사용할 수 있습니다.